{% extends "base.html" %}

{% block title %}Gráfica 5{% endblock %}

{% block content %}
<div style="margin-top: 80px; font-family: 'Arial', sans-serif; color: #003366; line-height: 1.6;">
    <h2 style="text-align: center; font-size: 2rem; color: #003366; margin-bottom: 20px;">Gráfica 5</h2>
    <p style="text-align: center; font-size: 1.2rem; margin-bottom: 10px; color: #ffffff;">
        Este es el gráfico de la Relación entre Tamaño del Motor, Potencia y Precio:
    </p>
    <div style="max-width: 800px; margin: 0 auto; background: #ffffff; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); overflow: hidden; padding: 20px;">
        <div style="position:relative; width:100%; height:0; padding-bottom:60.25%; overflow:hidden; border: 1px solid #ccc; border-radius: 5px;">
            <img 
            src="/static/BurbujasTamanoPotenciayPrecio.png" 
            alt="Relación entre Tamaño del Motor, Potencia y Precio" 
            style="width: 100%; height: auto; border-radius: 8px;">
        </div>
    </div>
    <p style="max-width: 800px; margin: 20px auto 0; font-size: 1rem; color: #ffffff; text-align: justify;">
        La gráfica de burbujas muestra la relación entre el tamaño del motor (Engine) y la potencia (Power) de los vehículos, donde el precio (Price) se representa mediante el tamaño de las burbujas y el tipo de combustible (Fuel_Type) se distingue con colores específicos.
        En esta visualización, se pueden observar tendencias clave:
        Relación entre tamaño del motor y potencia: Existe una tendencia positiva, donde motores más grandes tienden a ofrecer mayor potencia. Sin embargo, pueden notarse algunas variaciones en ciertos tipos de combustible.
        Precio de los vehículos: Las burbujas más grandes, que representan precios más altos, se concentran principalmente en rangos superiores de tamaño de motor y potencia, lo que sugiere que estas características están relacionadas con vehículos más costosos.
        Tipo de combustible: Los colores permiten identificar cómo se distribuyen los distintos tipos de combustible en función del motor y la potencia, mostrando patrones específicos. Por ejemplo, algunos combustibles podrían dominar en rangos más altos de potencia o tamaño del motor.
            </p>
    <div style="max-width: 800px; margin: 30px auto; background: #4e4e4e; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); padding: 20px; position: relative;">
        <h3 style="margin-bottom: 10px; color: #ffffff;">Código utilizado para generar la gráfica:</h3>
        <pre id="code-block" style="background: #000000; color: #00fe5d; padding: 15px; border-radius: 5px; font-size: 0.9rem; line-height: 1.5; overflow-x: auto; white-space: pre-wrap;">
# Gráfica Burbujas
ggplot(lectura, aes(x = Engine, y = Power, size = Price, color = Fuel_Type)) + 
geom_point(alpha = 0.7) + 
labs(title = "Relación entre Motor, Potencia y Precio", 
    x = "Tamaño del Motor (CC)", 
    y = "Potencia (bhp)") + 
theme_minimal()
        </pre>
        <button onclick="copyToClipboard()" style="position: absolute; top: 10px; right: 10px; background: #262626; color: #ffffff; border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; font-size: 0.9rem;">Copiar Código</button>
    </div>
    <div class="back-button" style="text-align: center; margin-top: 20px;">
        <a href="/menu" class="button">
            Volver al menú de gráficas
        </a>
    </div>
</div>

<script>
    function copyToClipboard() {
        const codeBlock = document.getElementById('code-block').innerText;
        navigator.clipboard.writeText(codeBlock).then(() => {
            alert('¡Código copiado al portapapeles!');
        }).catch(err => {
            console.error('Error al copiar el código: ', err);
        });
    }
</script>
{% endblock %}
